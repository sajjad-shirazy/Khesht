var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r};define(["require","exports","khesht/eventdispatcher"],function(n,t,i){return function(n){function t(t,i,r){n.call(this);this.modal=null;this.form=null;this.options=$.extend({icon:"flag",title:".titile",showCloseBotton:!0,id:D.uniqueId(),size:""},r);this.modal=D.modal(this.options.size,D.modal.header(this.options.icon,this.options.title,this.options.showCloseBotton),[this.form=D.form().addClass("form-horizontal").append(t),D.hr().css({"margin-top":"inherit","margin-bottom":"inherit"}),this.div_message=D.div()],i).attr({id:this.options.id,"data-backdrop":"static","data-keyboard":!1}).appendTo(D.body).on("show.bs.modal",this.onshow.bind(this)).on("hidden.bs.modal",this.onclose.bind(this))}return __extends(t,n),t.prototype.show=function(){this.modal.modal("show")},t.prototype.close=function(){this.modal.modal("hide")},t.prototype.onshow=function(){},t.prototype.onclose=function(){},t.prototype.link=function(){return D.a({"data-toggle":"modal","data-target":"#"+this.options.id},this.options.icon).append(" ",this.options.title)},t.prototype.input=function(n,t,i){return D.labeledControl(null,t,i,4,n)},t.prototype.message=function(n,t){t===void 0&&(t="info");D.alert("phone-alt").addClass("alert-"+t).append(n).appendTo(this.div_message)},t.prototype.ajaxParams=function(){return{}},t.prototype.reset=function(){this.div_message.empty()},t}(i)})