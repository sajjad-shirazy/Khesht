var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r};define(["require","exports","khesht/ext/bootstrap/dom","khesht/utils","khesht/app","khesht/page","khesht/ext/bootstrap/topmenu","khesht/ext/bootstrap/form","bootstrap/js/bootstrap.min","stylesheet!bootstrap/css/bootstrap.min.css"],function(n,t,i,r,u,f,e,o){return function(n){function t(t){n.call(this,t);this.form=new o(this);this.form.append(this.div_messages=i.div());this.dom=i.container().append(this.form.DOM).appendTo(this.dom)}return __extends(t,n),t.prototype.header=function(f){f===void 0&&(f=i.a({href:r.param({page:"index"})}).append(u.config.name).click(t.navigate));n.prototype.header.call(this);i.topmenusCount=0;this.topMenu=new e(f);this.append(this.topMenu.DOM)},t.prototype.body=function(){n.prototype.body.call(this);this.args.message&&this.addMessage(this.args.message,this.args.status)},t.prototype.translateMessage=function(n){return n},t.prototype.footer=function(t){t===void 0&&(t=u.config.name);n.prototype.footer.call(this);i.body.append(i.container().append(i.br(),i.hr(),i.pageFooter().append(t)))},t.prototype.addMessage=function(n,t){t===void 0&&(t="info");switch(t){case"success":t="success";break;case"warning":t="warning";break;case"fail":t="danger";break;default:t="info"}i.alert("bell").addClass("alert-"+t).append(" ",this.translateMessage(n)).appendTo(this.div_messages);$("html, body").animate({scrollTop:0},"slow")},t}(f)})