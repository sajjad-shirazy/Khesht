define(["require","exports","khesht/utils","jquery"],function(n,t,i){return function(){function t(){}return t.enable=function(n){return n?n.removeAttr("disabled"):null},t.disable=function(n){return n?n.attr("disabled","disabled"):null},t.dom=function(n,t){var i=$(document.createElement(n));return t&&i.attr(t),i},t.link=function(n){return this.dom("link",n)},t.stylesheet=function(t){return this.stylesheets[t]?this.stylesheets[t]:(t=n.toUrl(t),i.log("loading stylesheet :",t),this.stylesheets[t]=this.link({rel:"stylesheet",href:t}).appendTo(this.head))},t.script=function(t,r){n.call(null,t,function(){i.each(t,function(n,t){i.log("script file loaded :",t)});r&&r()},function(n){i.error(n.requireModules&&n.requireModules[0],"loading scripts failed")})},t.p=function(n){return this.dom("p",n)},t.em=function(n){return this.dom("em",n)},t.hr=function(n){return this.dom("hr",n)},t.h1=function(n){return this.dom("h1",n)},t.h2=function(n){return this.dom("h2",n)},t.h3=function(n){return this.dom("h3",n)},t.h4=function(n){return this.dom("h4",n)},t.h5=function(n){return this.dom("h5",n)},t.h6=function(n){return this.dom("h6",n)},t.small=function(n){return this.dom("small",n)},t.br=function(n,i){return n?this.div().append(Array.apply(null,new Array(n)).map(function(){return t.br(null,i)})).children():this.dom("br",i)},t.center=function(n){return this.dom("center",n)},t.kbd=function(n){return this.dom("kbd",n)},t.div=function(n){return this.dom("div",n)},t.img=function(n){return this.dom("img",n)},t.span=function(n){return this.dom("span",n)},t.strong=function(n){return this.dom("strong",n)},t.ul=function(n,t){var u=this,r=this.dom("ul",t);return n&&n instanceof Array?i.each(n,function(n,t){t&&((t instanceof String||t instanceof Array||!t.is("li"))&&(t=u.dom("li").append(t)),r.append(t))}):r.append(n),r},t.li=function(n){return this.dom("li",n)},t.svg=function(n){return this.dom("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}).attr(n)},t.a=function(n){return this.dom("a",$.extend({href:"#"},n))},t.button=function(n){return this.dom("button",n).attr("type","button")},t.input=function(n){return this.dom("input",n)},t.text=function(n){return this.input(n).attr("type","text")},t.hidden=function(n){return this.input(n).attr("type","hidden")},t.textarea=function(n){return this.dom("textarea",n)},t.email=function(n){return this.input(n).attr("type","email")},t.password=function(n){return this.input(n).attr("type","password")},t.checkbox=function(n){return this.dom("input",n).attr("type","checkbox")},t.radio=function(n){return this.dom("input",n).attr("type","radio")},t.option=function(n){return this.dom("option",n)},t.options=function(n){var r=[];return n&&n instanceof Array&&i.each(n,function(n,i){i instanceof Array?r.push(t.option({value:i[1]}).append(i[0])):r.push(t.option().append(i))}),r},t.select=function(n,t){return this.dom("select",t).append(this.options(n))},t.optgroup=function(n){return this.dom("optgroup",n)},t.submit=function(n){return this.input(n).attr("type","submit")},t.form=function(n){return this.dom("form",n)},t.label=function(n,t){return this.dom("label",t).attr({"for":n})},t.table=function(n,i){var u=this.dom("thead").append(this.tr(n,"th")),r=this.dom("tbody");return i&&$.each(i,function(n,i){r.append(t.tr(i))}),this.dom("table").append(u,r)},t.tr=function(n,i){i===void 0&&(i="td");var r=this.dom("tr");return n&&$.each(n,function(n,u){r.append(t.dom(i).append(u))}),r},t.fieldset=function(n){return this.dom("fieldset",n)},t.loading=function(){return this.center().append(this.img({src:n.toUrl("images/loading.gif")}))},t.head=$(document.head),t.body=$(document.body),t.stylesheets={},t}()})